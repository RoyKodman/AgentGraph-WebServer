<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Computation Graph Preview</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: #fafafa;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h2 {
      margin: 1rem 0 0.5rem;
      color: #333;
    }
    svg {
      border: 1px solid #ccc;
      background: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .topic {
      fill: #c8e6c9;
      stroke: #2e7d32;
      stroke-width: 2;
    }
    .agent {
      fill: #bbdefb;
      stroke: #1565c0;
      stroke-width: 2;
    }
    .label {
      text-anchor: middle;
      dominant-baseline: middle;
      font-size: 14px;
      pointer-events: none;
    }
    .edge {
      stroke: #555;
      stroke-width: 2;
      marker-end: url(#arrow);
    }
    .note {
      font-size: 0.9rem;
      color: #555;
      margin: 0.5rem 1rem 1.5rem;
      max-width: 800px;
      text-align: center;
    }
  </style>
</head>
<body>
  <h2>Computation Graph Preview</h2>
  <!--
    This static SVG shows a sample graph for the expression:
        r3 = (a + b) * (a - b)
    Topic nodes are circles, Agent nodes are rectangles, and edges indicate data flow.
  -->
  <svg width="900" height="420" viewBox="0 0 900 420">
    <!-- Arrowhead definition -->
    <defs>
      <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5"
              orient="auto" markerUnits="strokeWidth">
        <path d="M0,0 L10,5 L0,10 Z" fill="#555" />
      </marker>
    </defs>

    <!-- TOPIC NODES -->
    <circle class="topic" cx="70" cy="100" r="28" />
    <text class="label" x="70" y="100">A</text>

    <circle class="topic" cx="70" cy="260" r="28" />
    <text class="label" x="70" y="260">B</text>

    <!-- AGENT NODES -->
    <rect class="agent" x="180" y="70" width="90" height="60" rx="10" ry="10" />
    <text class="label" x="225" y="100">Plus</text>

    <rect class="agent" x="180" y="230" width="90" height="60" rx="10" ry="10" />
    <text class="label" x="225" y="260">Minus</text>

    <!-- INTERMEDIATE TOPICS -->
    <circle class="topic" cx="360" cy="100" r="28" />
    <text class="label" x="360" y="100">R1</text>

    <circle class="topic" cx="360" cy="260" r="28" />
    <text class="label" x="360" y="260">R2</text>

    <!-- MULTIPLY AGENT -->
    <rect class="agent" x="500" y="150" width="90" height="60" rx="10" ry="10" />
    <text class="label" x="545" y="180">Mul</text>

    <!-- OUTPUT TOPIC -->
    <circle class="topic" cx="700" cy="180" r="28" />
    <text class="label" x="700" y="180">R3</text>

    <!-- EDGES -->
    <!-- A & B to Plus / Minus -->
    <line class="edge" x1="98" y1="100" x2="180" y2="100" />
    <line class="edge" x1="98" y1="260" x2="180" y2="260" />

    <line class="edge" x1="225" y1="70" x2="225" y2="260" visibility="hidden" /> <!-- spacer -->

    <!-- Plus & Minus to R1 / R2 -->
    <line class="edge" x1="270" y1="100" x2="332" y2="100" />
    <line class="edge" x1="270" y1="260" x2="332" y2="260" />

    <!-- R1 & R2 to Mul -->
    <line class="edge" x1="388" y1="100" x2="500" y2="180" />
    <line class="edge" x1="388" y1="260" x2="500" y2="180" />

    <!-- Mul to R3 -->
    <line class="edge" x1="590" y1="180" x2="672" y2="180" />
  </svg>

  <p class="note">
    This is a static mockâ€‘up meant for quick visual validation (and a bring-up graph). 
    The code will plug in <code>HtmlGraphWriter</code> to output this SVG dynamically from real graph data.
  </p>
</body>
</html>